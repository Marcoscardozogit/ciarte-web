---
import { Image } from "astro:assets";
import { getEntry } from "astro:content";

const home = await getEntry("home", "content");
if (!home) {
  throw new Error("No se encontró el contenido de home/content.md");
}
const about = home.data?.about || {};
const { Content } = await home.render();
---

<section class="section about-section" id="ciarte">
  <div class="container">
    <div class="grid-2 about-grid">
      <div class="about-content">
        <h2 class="section-title text-left">Qué es CIArte</h2>
        <p class="lead">
          Un espacio donde el arte se encuentra con la comunidad, las generaciones se abrazan y la cultura florece.
        </p>
        <p>
          CIArte (Centro de Integración y Arte) funciona en el corazón del Centro de Jubilados Los Olivos. 
          Es coordinado por <strong class="text-primary">El Laberinto Grupo de Teatro Independiente</strong>, 
          con 19 años de trayectoria y una visión clara: el arte es un derecho y una herramienta de transformación social.
        </p>
        <p>
          Aquí no solo enseñamos disciplinas artísticas; construimos comunidad, 
          fomentamos el encuentro entre abuelos y nietos, y mantenemos viva nuestra identidad cultural.
        </p>
      </div>
      <div class="about-image">
        {about.image && (
             <Image src={about.image} alt="Actividades en CIArte" class="rounded-image" />
        )}
      </div>
    </div>
  </div>
</section>

<style>
  .text-primary {
    color: var(--color-primary-500);
  }

  .text-left {
    text-align: left;
  }

  /* Mobile: Center title */
  @media (max-width: 768px) {
    .section-title.text-left {
      text-align: center;
    }

    .about-content {
      text-align: center;
    }
  }

  .about-section {
    padding-top: var(--space-12);
  }

  @media (min-width: 768px) {
    .about-section {
      padding-top: var(--space-20);
    }
  }

  .lead {
    font-size: var(--font-size-xl);
    font-weight: 500;
    color: var(--color-text-primary);
    margin-bottom: var(--space-6);
    line-height: var(--line-height-relaxed);
  }

  .rounded-image {
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-xl);
    transform: rotate(2deg);
    border: 8px solid white;
    max-height: 400px;
    object-fit: cover;
    width: 100%;
  }

  .about-grid {
    align-items: center;
  }
</style>
